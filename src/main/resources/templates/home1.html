<!DOCTYPE html>
<html dir="rtl" lang="ar" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
    <link href="/assets/img/apple-icon.png" rel="apple-touch-icon" sizes="76x76">
    <link href="/assets/img/favicon.png" rel="icon" type="image/png">
    <title>
        إدارة الخدمات الفنية

    </title>
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700" rel="stylesheet"/>
    <!-- Nucleo Icons -->
    <link href="/assets/css/nucleo-icons.css" rel="stylesheet"/>
    <link href="/assets/css/nucleo-svg.css" rel="stylesheet"/>
    <!-- Font Awesome Icons -->
    <!-- <script src="https://kit.fontawesome.com/42d5adcbca.js" crossorigin="anonymous"></script>-->
    <script crossorigin="anonymous" src="/assets/js/fontawesome.js"></script>
    <link href="/assets/css/nucleo-svg.css" rel="stylesheet"/>
    <!-- CSS Files -->
    <link href="/assets/css/soft-ui-dashboard.css?v=1.0.3" id="pagestyle" rel="stylesheet"/>
</head>

<!-- menu a droite  -->

<body class="g-sidenav-show rtl bg-gray-100">
<aside class="sidenav navbar navbar-vertical navbar-expand-xs border-0 border-radius-xl my-3 fixed-end me-3 rotate-caret" id="sidenav-main">

    <div th:replace="fragments/menu :: menu"/>

</aside>
<!--end  menu a droite  -->

<main class="main-content position-relative max-height-vh-100 h-100 mt-1 border-radius-lg overflow-hidden">


    <!-- Navbar header  -->
    <div th:replace="fragments/header :: header"/>


    <div th:replace="fragments/widget :: widget"/>

    <!-- Navbar footer  -->


    <div class="container">
        <div class="row">

            <div class="col-6" div>
                <div class="chart">
                    <!--canvas class="chart-canvas" height="300" width="500" id="chart-bars"></canvas-->
                    <canvas class="chart-canvas" height="300"  width="500" id="bar-chart1"></canvas>
                </div>
            </div>

            <div class="col-6">
                <div class="chart">
                    <!--canvas class="chart-canvas" height="300"  width="500" id="chart-bars1"></canvas-->
                    <canvas class="chart-canvas" height="300"  width="500" id="bar-chart"></canvas>
                    bar-chart


                </div>

            </div>
            <div class="row">

            <div class="col-6">
                <div class="chart">
                    <canvas id="line-chart" width="500" height="300"></canvas>



                </div>
            </div>


                <div class="col-6">
                    <div class="chart">
                        <!--canvas class="chart-canvas" height="300"  width="500" id="chart-bars2"></canvas-->
                        <!--canvas class="chart-canvas" height="300"  width="500" id="pie-chart"></canvas-->
                        <canvas id="pie-chart" width="250" height="250"></canvas>


                    </div>
                </div>
            </div>
            </div>


        <div th:replace="fragments/footer :: footer"/>


    </div>
</main>
<div class="fixed-plugin">
    <a class="fixed-plugin-button text-dark position-fixed px-3 py-2">
        <i class="fa fa-cog py-2"> </i>
    </a>
    <div class="card shadow-lg ">
        <div class="card-header pb-0 pt-3 ">
            <div class="float-end">
                <h5 class="mt-3 mb-0">Soft UI Configurator</h5>
                <p>See our dashboard options.</p>
            </div>
            <div class="float-start mt-4">
                <button class="btn btn-link text-dark p-0 fixed-plugin-close-button">
                    <i class="fa fa-close"></i>
                </button>
            </div>
            <!-- End Toggle Button -->
        </div>
        <hr class="horizontal dark my-1">
        <div class="card-body pt-sm-3 pt-0">
            <!-- Sidebar Backgrounds -->
            <div>
                <h6 class="mb-0">Sidebar Colors</h6>
            </div>
            <a class="switch-trigger background-color" href="javascript:void(0)">
                <div class="badge-colors my-2 text-end">
                    <span class="badge filter bg-gradient-primary active" data-color="primary"
                          onclick="sidebarColor(this)"></span>
                    <span class="badge filter bg-gradient-dark" data-color="dark" onclick="sidebarColor(this)"></span>
                    <span class="badge filter bg-gradient-info" data-color="info" onclick="sidebarColor(this)"></span>
                    <span class="badge filter bg-gradient-success" data-color="success"
                          onclick="sidebarColor(this)"></span>
                    <span class="badge filter bg-gradient-warning" data-color="warning"
                          onclick="sidebarColor(this)"></span>
                    <span class="badge filter bg-gradient-danger" data-color="danger"
                          onclick="sidebarColor(this)"></span>
                </div>
            </a>
        </div>
    </div>
</div>


<!--   Core JS Files   -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.js"></script>
<script src="/assets/js/core/popper.min.js"></script>
<script src="/assets/js/core/bootstrap.min.js"></script>

<script src="/assets/js/bootstrap.min.js"></script>
<script src="/assets/js/popper.min.js"></script>
<script src="/assets/js/plugins/perfect-scrollbar.min.js"></script>
<script src="/assets/js/plugins/smooth-scrollbar.min.js"></script>

<script src="/assets/js/plugins/chartjs.min.js"></script>


<script src="/assets/js/plugins/choices.min.js"></script>
<script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }
</script>
<!-- Github buttons -->
<script async defer src="https://buttons.github.io/buttons.js"></script>
<!-- Control Center for Soft Dashboard: parallax effects, scripts for the example pages etc -->
<script src="/assets/js/soft-ui-dashboard.min.js?v=1.0.3"></script>
<!--script src="/assets/js/soft-ui-dashboard.min.js"></script-->

<!--script src="/assets/js/soft-ui-dashboard.min.js"></script-->
<script>

    $.getJSON( "/widget/loadNbAgent", function( res ) {



    console.log("nb ag widget :"+res)


return res;

    })
</script>


<script>

    $.getJSON( "/home1/loadNbagentperiode", function( res ) {
    x = []
    y = []
    z = []

    xly = []
    yly = []
    zly = []

    console.log("nb ag:"+res)
   $.each(res,function(i, data){


       x[i] = data[2]
       y[i] = data[2]
       z[i] = data[0]



        console.log("xly:"+xly);
         console.log("yly:"+yly);
          console.log("zly:"+zly);

        console.log("x:"+x);
         console.log("y:"+y);
          console.log("z:"+z);

    })

new Chart(document.getElementById("line-chart"), {

  type: 'line',
  data: {
    labels: x,
    datasets: [{
        data: y,
        label: "2023",
        borderColor: "#3e95cd",
        fill: false
      }, {
        data: z,
        label: "2022",
        borderColor: "#8e5ea2",
        fill: false
      },
    ]
  },
  options: {
    title: {
      display: true,
      text: 'World population per region (in millions)'
    }
  }
  });
});

</script>



<script>

    $.getJSON( "/home1/loadNbsyndicat", function( res ) {
    x = []
    y = []





    console.log("nb ag:"+res)
   $.each(res,function(i, data){


       x[i] = data[0]
       y[i] = data[1]





  console.log("x:"+x);
         console.log("y:"+y);


    })





new Chart(document.getElementById("bar-chart1"), {
    type: 'bar',
    data: {
      labels: y,
      datasets: [
        {
          label: "عدد المنخرطين حسب النقابات",
          backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
          data: x
        }
      ]
    },
    options: {
      legend: { display: true },
      title: {
        display:false,
        text: 'عدد المنخرطين حسب النقابات'
      }
    }
    });
});

</script>



<!--script>
$( document ).ready(function() {
    var ctx = $("canvas#chart-bars")[0].getContext("2d");

    $.ajax({
			type: 'GET',
			url: '/home1/loadNbsyndicat',
			success: function(res) {


			var labels = [];
			var values = [];
var s = '';
				for(var i = 0; i < res.length; i++) {

					labels.push(res[i][1]);


					values.push(res[i][0]);

				}

				$('#azert').empty();
				$('#azert').html(s);
				new Chart(ctx, {
                  type: "bar",
                  data: {
                    labels : labels,
                    datasets: [{
                      label: "عدد المنخرطين",
                      tension: 0.4,
                      borderWidth: 0.5,
                      borderRadius: 10,
                      borderSkipped: true,
                      backgroundColor: "#1b27d1",
                      data: values,
                      maxBarThickness: 6
                    }],
                  },
                  options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                     title:{
                        display:true,
                        text:'عدد المنخرطين حسب النقابات ',
                         fontSize:80
                         },
                      legend: {
                      position : 'right',
                        display: true,
                      }
                    },
                    interaction: {
                      intersect: false,
                      mode: 'index',
                    },
                    scales: {
                      y: {
                        grid: {
                          drawBorder: false,
                          display: false,
                          drawOnChartArea: false,
                          drawTicks: false,
                        },
                        ticks: {
                          suggestedMin: 0,
                          suggestedMax: 500,
                          beginAtZero: true,
                          padding: 15,
                          font: {
                            size: 14,
                            family: "Open Sans",
                            style: 'normal',
                            lineHeight: 2
                          },
                          color: "#4f4c3e"
                        },
                      },
                      x: {
                        grid: {
                          drawBorder: false,
                          display: false,
                          drawOnChartArea: false,
                          drawTicks: false
                        },
                        ticks: {
                          display: true
                        },
                      },
                    },
                  },
                });
                },
            });
			});
</script-->

<script>

    $.getJSON( "/home1/loadNbsdirection", function( res ) {
    x = []
    y = []


    console.log("nb ag:"+res)
   $.each(res,function(i, data){


       x[i] = data[0]
       y[i] = data[1]


  console.log("x:"+x);
         console.log("y:"+y);


    })


new Chart(document.getElementById("bar-chart"), {
    type: 'bar',
    data: {
      labels: y,
      datasets: [
        {
          label: "عدد المنخرطين حسب الإدارات الفرعية ",
          backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
          data: x
        }
      ]
    },
    options: {
      legend: { display: false },
      title: {
        display: true,
        text: 'عدد المنخرطين حسب الإدارات الفرعية'
      }
    }
    });
});

</script>



<script>

    $.getJSON( "/home1/loadNbgrade", function( res ) {
    x = []
    y = []
    console.log("nb ag:"+res)
   $.each(res,function(i, data){


       x[i] = data[0]
       y[i] = data[1]

  console.log("xpiechart:"+x);
         console.log("ypiechart:"+y);


    })


	new Chart(document.getElementById("pie-chart"), {
    type: 'pie',
    data: {
      labels: y,
      datasets: [{
        label: "منخرط ",
        backgroundColor: ["#3e95cd", "#8e5ea2","#3cba9f","#e8c3b9","#c45850"],
        data: x
      }]
    },
    options: {
      title: {
        display: true,
        text: 'عدد المنخرطين حسب الرتب'
      }
    }
   });
});

</script>
<script>
    var win = navigator.platform.indexOf('Win') > -1;
    if (win && document.querySelector('#sidenav-scrollbar')) {
      var options = {
        damping: '0.5'
      }
      Scrollbar.init(document.querySelector('#sidenav-scrollbar'), options);
    }

</script>


</body>

</html>



